/* LockMachine_i
 * Author: Diego Oliveira
 * Creation date: 23/11/2016
 */

IMPLEMENTATION copyLockMachine_i
REFINES copyLockMachine

CONCRETE_VARIABLES
    isOpenIMP
    
INVARIANT
    isOpenIMP : BOOL & isOpenIMP = isOpen
    
INITIALISATION
    isOpenIMP := FALSE

OPERATIONS
    GetinsideIMPForTest <-- OperationForTestGetinsideIMP = 
        GetinsideIMPForTest := insideIMP;

    GetoutsideIMPForTest <-- OperationForTestGetoutsideIMP = 
        GetoutsideIMPForTest := outsideIMP;

    GettotalIMPForTest <-- OperationForTestGettotalIMP = 
        GettotalIMPForTest := totalIMP;

    SetVariablesForTest(nn1, nn2, nn3) = 
    BEGIN
        insideIMP := nn1;
        outsideIMP := nn2;
        totalIMP := nn3
    END;

    openVault =
    BEGIN
        isOpenIMP:= TRUE
    END;

    
    closeVault = 
    BEGIN
        isOpenIMP:= FALSE
    END

 END