IMPLEMENTATION
    copycountMch_i

REFINES
    copycountMch

VALUES
    max_count = 10

CONCRETE_VARIABLES
    count

INVARIANT
(count : NAT & count <= max_count)

INITIALISATION
count := 0

OPERATIONS
    GetcountForTest <-- OperationForTestGetcountcountMch = 
        GetcountForTest := count;

    SetVariablesForTestcountMch(nn1) = 
    BEGIN
        count := nn1
    END;

    res <-- Inc(nn)=
    BEGIN
        VAR aux IN
            aux := count + nn;
            IF aux <= max_count THEN
                res := TRUE; count := count + nn
            ELSE
                res := FALSE
            END
        END
    END;

    
    res <-- Dec(nn)=
    BEGIN
        VAR aux IN
            aux := count - nn;
            IF aux >= 0 THEN
                res := TRUE; count := count - nn
            ELSE
                res := FALSE
            END
        END
    END

 END